const axios = require('axios');

// APIé…ç½®
const API_BASE_URL = 'http://localhost:8080';
const FRONTEND_API_KEY = 'test-frontend-key-123';

// æ‹‰å¡æ‹‰ä¼ä¸šæ–‡åŒ–æ•°æ®
const lakalaCompanyCulture = [
  {
    title: 'æ‹‰å¡æ‹‰ä½¿å‘½',
    description: 'æ‹‰å¡æ‹‰çš„ä¼ä¸šä½¿å‘½å’Œæ ¸å¿ƒç›®æ ‡',
    whatIs: 'ä¸ºæ¶ˆè´¹è€…åˆ›é€ ä»·å€¼ï¼Œä¸åˆ›é€ è€…åˆ†äº«æˆæœ',
    whyImportant: 'ä½¿å‘½æ˜¯ä¼ä¸šå­˜åœ¨çš„æ ¹æœ¬æ„ä¹‰ï¼ŒæŒ‡å¯¼ä¼ä¸šçš„ä¸€åˆ‡è¡Œä¸º',
    howToDo: 'åœ¨æ‰€æœ‰ä¸šåŠ¡æ´»åŠ¨ä¸­å§‹ç»ˆä»¥æ¶ˆè´¹è€…ä»·å€¼ä¸ºä¸­å¿ƒï¼Œä¸ä»·å€¼åˆ›é€ è€…å…±äº«æˆæœ',
    category: 'ä¼ä¸šä½¿å‘½',
    keywords: ['ä½¿å‘½', 'æ¶ˆè´¹è€…ä»·å€¼', 'åˆ›é€ è€…', 'åˆ†äº«æˆæœ']
  },
  {
    title: 'æ‹‰å¡æ‹‰æ„¿æ™¯',
    description: 'æ‹‰å¡æ‹‰çš„é•¿è¿œå‘å±•ç›®æ ‡å’Œä¼ä¸šæ„¿æ™¯',
    whatIs: 'æˆä¸ºä¸€å®¶è¡Œä¸šæ•°ä¸€æ•°äºŒã€æŒç»­æˆé•¿ã€å—äººå°Šé‡çš„ä¼ä¸š',
    whyImportant: 'æ„¿æ™¯ä¸ºä¼ä¸šå‘å±•æä¾›æ–¹å‘å’ŒåŠ¨åŠ›',
    howToDo: 'é€šè¿‡æŒç»­åˆ›æ–°å’Œä¼˜è´¨æœåŠ¡ï¼Œåœ¨è¡Œä¸šä¸­ä¿æŒé¢†å…ˆåœ°ä½',
    category: 'ä¼ä¸šæ„¿æ™¯',
    keywords: ['æ„¿æ™¯', 'è¡Œä¸šé¢†å…ˆ', 'æŒç»­æˆé•¿', 'å—äººå°Šé‡']
  },
  {
    title: 'æ‹‰å¡æ‹‰ - æ±‚å®',
    description: 'æ‹‰å¡æ‹‰æ ¸å¿ƒä»·å€¼è§‚ä¹‹æ±‚å®',
    whatIs: 'åˆ¨æ ¹é—®åº•ã€ç»“æœå¯¼å‘ã€åšåè¯´ä¹',
    whyImportant: 'æ±‚å®æ˜¯åšå¥½ä¸€åˆ‡å·¥ä½œçš„åŸºç¡€ï¼Œç¡®ä¿å†³ç­–å’Œè¡ŒåŠ¨å»ºç«‹åœ¨äº‹å®åŸºç¡€ä¸Š',
    howToDo: 'å‡¡äº‹æ±‚ç”šè§£ï¼Œä»»ä½•äº‹æƒ…éƒ½ä¸èƒ½è¢«è¡¨è±¡æ‰€å·¦å³ï¼Œå¿…é¡»ææ¸…æ¥šã€æå‡†ç¡®ï¼Œè®©æ¯ä¸€å¥è¯éƒ½æœ‰ç»å¾—èµ·æ¨æ•²çš„äº‹å®ä¾æ®',
    category: 'æ ¸å¿ƒä»·å€¼è§‚',
    keywords: ['æ±‚å®', 'åˆ¨æ ¹é—®åº•', 'ç»“æœå¯¼å‘', 'åšåè¯´ä¹', 'äº‹å®ä¾æ®']
  },
  {
    title: 'æ‹‰å¡æ‹‰ - è¿›å–',
    description: 'æ‹‰å¡æ‹‰æ ¸å¿ƒä»·å€¼è§‚ä¹‹è¿›å–',
    whatIs: 'ä¸»äººå¿ƒæ€ã€ç«­å°½å…¨åŠ›ã€æ—¥æ–°æœˆå¼‚',
    whyImportant: 'è¿›å–ç²¾ç¥æ˜¯ä¼ä¸šå‘å±•çš„åŠ¨åŠ›æºæ³‰',
    howToDo: 'ä»¥ä¸»äººå¿ƒæ€å¯¹å¾…å·¥ä½œï¼Œç«­å°½å…¨åŠ›å®Œæˆç›®æ ‡ï¼Œæ¯å¤©éƒ½åœ¨æ›´æ–°è¿›æ­¥',
    category: 'æ ¸å¿ƒä»·å€¼è§‚',
    keywords: ['è¿›å–', 'ä¸»äººå¿ƒæ€', 'ç«­å°½å…¨åŠ›', 'æ—¥æ–°æœˆå¼‚', 'æ°¸ä¸æ»¡è¶³']
  },
  {
    title: 'æ‹‰å¡æ‹‰ - åˆ›æ–°',
    description: 'æ‹‰å¡æ‹‰æ ¸å¿ƒä»·å€¼è§‚ä¹‹åˆ›æ–°',
    whatIs: 'æŠ“ä½éœ€æ±‚ã€æ‰“ç ´å¸¸è§„ã€èªæ˜å·¥ä½œ',
    whyImportant: 'åˆ›æ–°æ˜¯ä¼ä¸šä¿æŒç«äº‰åŠ›çš„å…³é”®',
    howToDo: 'ç´§ç›¯ç”¨æˆ·éœ€æ±‚ï¼Œæ‰“ç ´å‰äººçš„æ–¹æ³•ï¼Œç”¨æ›´ç®€å•é«˜æ•ˆçš„æ–¹æ³•è¾¾æˆç›®æ ‡',
    category: 'æ ¸å¿ƒä»·å€¼è§‚',
    keywords: ['åˆ›æ–°', 'æŠ“ä½éœ€æ±‚', 'æ‰“ç ´å¸¸è§„', 'èªæ˜å·¥ä½œ', 'ç”¨æˆ·éœ€æ±‚']
  },
  {
    title: 'æ‹‰å¡æ‹‰ - ååŒ',
    description: 'æ‹‰å¡æ‹‰æ ¸å¿ƒä»·å€¼è§‚ä¹‹ååŒ',
    whatIs: 'å‘ä¸Šæ€è€ƒã€å‘ä¸‹æ‰§è¡Œã€é˜²åŒºå»¶ä¼¸',
    whyImportant: 'ååŒåˆä½œæ˜¯å®ç°ç»„ç»‡ç›®æ ‡çš„é‡è¦ä¿éšœ',
    howToDo: 'ä»¥å…¨å±€çœ¼å…‰æ€è€ƒé—®é¢˜ï¼Œåšå†³æ‰§è¡Œå†³ç­–ï¼Œå…³æ³¨å·¥ä½œç›¸æ¥çš„ä¸Šä¸‹å·¦å³æ¸¸',
    category: 'æ ¸å¿ƒä»·å€¼è§‚',
    keywords: ['ååŒ', 'å‘ä¸Šæ€è€ƒ', 'å‘ä¸‹æ‰§è¡Œ', 'é˜²åŒºå»¶ä¼¸', 'å…¨å±€æ€ç»´']
  },
  {
    title: 'æ‹‰å¡æ‹‰ - åˆ†äº«',
    description: 'æ‹‰å¡æ‹‰æ ¸å¿ƒä»·å€¼è§‚ä¹‹åˆ†äº«',
    whatIs: 'åŒäº‹ä¸åŒäº‹ã€å…¬å¸ä¸å‘˜å·¥ã€å…¬å¸ä¸ç¤¾ä¼š',
    whyImportant: 'åˆ†äº«æ–‡åŒ–ä¿ƒè¿›ç»„ç»‡å­¦ä¹ å’Œç¤¾ä¼šè´£ä»»å±¥è¡Œ',
    howToDo: 'é€šè¿‡å­¦ä¹ åˆ†äº«ã€åˆ©æ¶¦åˆ†äº«ã€ä»·å€¼åˆ†äº«ï¼Œå®ç°å¤šæ–¹å…±èµ¢',
    category: 'æ ¸å¿ƒä»·å€¼è§‚',
    keywords: ['åˆ†äº«', 'å­¦ä¹ åˆ†äº«', 'åˆ©æ¶¦åˆ†äº«', 'ç¤¾ä¼šè´£ä»»', 'å…±èµ¢']
  },
  {
    title: 'æ‹‰å¡æ‹‰ç®¡äº‹å››æ­¥æ³•',
    description: 'æ‹‰å¡æ‹‰ç®¡ç†æ–¹æ³•è®ºä¸­çš„ç®¡äº‹å››æ­¥æ³•',
    whatIs: 'å…ˆé—®ç›®çš„ã€å†åšæ¨æ¼”ã€äº²æ‰‹æ‰“æ ·ã€åŠæ—¶å¤ç›˜',
    whyImportant: 'ç³»ç»ŸåŒ–çš„ç®¡äº‹æ–¹æ³•ç¡®ä¿å·¥ä½œæ•ˆç‡å’Œè´¨é‡',
    howToDo: 'æ¯ä¸ªç®¡ç†åŠ¨ä½œéƒ½æŒ‰ç…§å››æ­¥æ³•æ‰§è¡Œï¼šæ˜ç¡®ç›®çš„â†’æ¨æ¼”æ–¹æ¡ˆâ†’æ‰“æ ·éªŒè¯â†’å¤ç›˜æ€»ç»“',
    category: 'ç®¡ç†æ–¹æ³•è®º',
    keywords: ['ç®¡äº‹å››æ­¥æ³•', 'å…ˆé—®ç›®çš„', 'æ¨æ¼”', 'æ‰“æ ·', 'å¤ç›˜']
  },
  {
    title: 'æ‹‰å¡æ‹‰ç®¡äººå››æ­¥æ³•',
    description: 'æ‹‰å¡æ‹‰ç®¡ç†æ–¹æ³•è®ºä¸­çš„ç®¡äººå››æ­¥æ³•',
    whatIs: 'è®¾ç›®æ ‡ã€æ§è¿›åº¦ã€æŠ“è€ƒè¯„ã€ç†è§„èŒƒ',
    whyImportant: 'è§„èŒƒåŒ–çš„ç®¡äººæ–¹æ³•ç¡®ä¿å›¢é˜Ÿæ‰§è¡ŒåŠ›',
    howToDo: 'é€šè¿‡è®¾å®šæ¸…æ™°ç›®æ ‡ã€æ§åˆ¶å·¥ä½œè¿›åº¦ã€ä¸¥æ ¼è€ƒè¯„ã€å»ºç«‹è§„èŒƒæ¥ç®¡ç†å›¢é˜Ÿ',
    category: 'ç®¡ç†æ–¹æ³•è®º',
    keywords: ['ç®¡äººå››æ­¥æ³•', 'è®¾ç›®æ ‡', 'æ§è¿›åº¦', 'æŠ“è€ƒè¯„', 'ç†è§„èŒƒ']
  },
  {
    title: 'æ‹‰å¡æ‹‰ç»è¥æ–¹æ³•è®º',
    description: 'æ‹‰å¡æ‹‰é«˜çº§ç®¡ç†æ–¹æ³•è®º',
    whatIs: 'å»ºç­å­ã€å®šæˆ˜ç•¥ã€å¸¦é˜Ÿä¼',
    whyImportant: 'ç»è¥æ–¹æ³•è®ºæŒ‡å¯¼ä¼ä¸šåšå¯¹çš„äº‹æƒ…',
    howToDo: 'é€šè¿‡å»ºè®¾æ ¸å¿ƒå›¢é˜Ÿã€åˆ¶å®šæ­£ç¡®æˆ˜ç•¥ã€æ‰“é€ é“å†›é˜Ÿä¼æ¥å®ç°ç»è¥ç›®æ ‡',
    category: 'ç»è¥æ–¹æ³•è®º',
    keywords: ['ç»è¥æ–¹æ³•è®º', 'å»ºç­å­', 'å®šæˆ˜ç•¥', 'å¸¦é˜Ÿä¼', 'åšå¯¹çš„äº‹']
  },
  {
    title: 'æ‹‰å¡æ‹‰åäºŒæ¡ä»¤ - æŒ‡ä»¤ç³»ç»Ÿ',
    description: 'æ‹‰å¡æ‹‰å·¥ä½œè¡Œä¸ºå‡†åˆ™ä¸­çš„æŒ‡ä»¤ç³»ç»Ÿ',
    whatIs: 'ç¡®è®¤æŒ‡ä»¤ã€åŠæ—¶æŠ¥å‘Šã€äº²æ’°å‘¨æŠ¥',
    whyImportant: 'è§„èŒƒçš„æŒ‡ä»¤ç³»ç»Ÿç¡®ä¿ä¿¡æ¯ä¼ é€’å‡†ç¡®é«˜æ•ˆ',
    howToDo: 'ç¬¬ä¸€æ—¶é—´ç¡®è®¤æŒ‡ä»¤ã€åŠæ—¶æŠ¥å‘Šè¿›å±•ã€äº²è‡ªæ’°å†™å‘¨æŠ¥',
    category: 'åäºŒæ¡ä»¤',
    keywords: ['åäºŒæ¡ä»¤', 'ç¡®è®¤æŒ‡ä»¤', 'åŠæ—¶æŠ¥å‘Š', 'äº²æ’°å‘¨æŠ¥', 'ä¿¡æ¯ä¼ é€’']
  },
  {
    title: 'æ‹‰å¡æ‹‰åäºŒæ¡ä»¤ - æ‰§è¡Œç³»ç»Ÿ',
    description: 'æ‹‰å¡æ‹‰å·¥ä½œè¡Œä¸ºå‡†åˆ™ä¸­çš„æ‰§è¡Œç³»ç»Ÿ',
    whatIs: 'è¯´åˆ°åšåˆ°ã€ä¿æŒå‡†æ—¶ã€è§£å†³é—®é¢˜',
    whyImportant: 'å¼ºåŒ–æ‰§è¡ŒåŠ›ï¼Œç¡®ä¿æ‰¿è¯ºå…‘ç°',
    howToDo: 'æŒ‰æ‰¿è¯ºæ—¶é—´å’Œè´¨é‡å®Œæˆä»»åŠ¡ã€å‡†æ—¶å‚ä¸çº¦å®šäº‹é¡¹ã€ä¸»åŠ¨è§£å†³å·¥ä½œéšœç¢',
    category: 'åäºŒæ¡ä»¤',
    keywords: ['åäºŒæ¡ä»¤', 'è¯´åˆ°åšåˆ°', 'ä¿æŒå‡†æ—¶', 'è§£å†³é—®é¢˜', 'æ‰§è¡ŒåŠ›']
  },
  {
    title: 'æ‹‰å¡æ‹‰åäºŒæ¡ä»¤ - æ²Ÿé€šç³»ç»Ÿ',
    description: 'æ‹‰å¡æ‹‰å·¥ä½œè¡Œä¸ºå‡†åˆ™ä¸­çš„æ²Ÿé€šç³»ç»Ÿ',
    whatIs: 'æ—¥æ¸…é‚®ä»¶ã€ä¼šè®®è®°å½•ã€å‹¤å†™å¤‡å¿˜',
    whyImportant: 'é«˜æ•ˆæ²Ÿé€šæ˜¯å›¢é˜Ÿåä½œçš„åŸºç¡€',
    howToDo: '24å°æ—¶å†…å›å¤é‚®ä»¶ã€åšå¥½ä¼šè®®è®°å½•ã€åŠæ—¶å†™å¤‡å¿˜å½•',
    category: 'åäºŒæ¡ä»¤',
    keywords: ['åäºŒæ¡ä»¤', 'æ—¥æ¸…é‚®ä»¶', 'ä¼šè®®è®°å½•', 'å‹¤å†™å¤‡å¿˜', 'æ²Ÿé€šæ•ˆç‡']
  },
  {
    title: 'æ‹‰å¡æ‹‰åäºŒæ¡ä»¤ - æ€»ç»“ç³»ç»Ÿ',
    description: 'æ‹‰å¡æ‹‰å·¥ä½œè¡Œä¸ºå‡†åˆ™ä¸­çš„æ€»ç»“ç³»ç»Ÿ',
    whatIs: 'ä¸‰æ¡æ€»ç»“ã€ä¸€é¡µæŠ¥å‘Šã€ç»Ÿè®¡åˆ†æ',
    whyImportant: 'ç³»ç»ŸåŒ–æ€»ç»“æå‡å·¥ä½œè´¨é‡å’Œå†³ç­–æ°´å¹³',
    howToDo: 'ç”¨ä¸‰æ¡è¯´æ¸…æ¥šé—®é¢˜ã€å†™ä¸€é¡µçº¸æŠ¥å‘Šã€ç”¨æ•°å­—è¯´è¯åšåˆ†æ',
    category: 'åäºŒæ¡ä»¤',
    keywords: ['åäºŒæ¡ä»¤', 'ä¸‰æ¡æ€»ç»“', 'ä¸€é¡µæŠ¥å‘Š', 'ç»Ÿè®¡åˆ†æ', 'æ•°å­—è¯´è¯']
  },
  {
    title: 'æ‹‰å¡æ‹‰ä¼ä¸šæ–‡åŒ–ä½“ç³»',
    description: 'æ‹‰å¡æ‹‰å®Œæ•´çš„ä¼ä¸šæ–‡åŒ–æ¶æ„',
    whatIs: 'å†…æ ¸ï¼ˆä½¿å‘½æ„¿æ™¯ä»·å€¼è§‚ï¼‰ã€ä¸­æ ¸ï¼ˆç®¡ç†ç»è¥æ–¹æ³•è®ºï¼‰ã€å¤–æ ¸ï¼ˆåäºŒæ¡ä»¤å·¥å…·ï¼‰',
    whyImportant: 'ä¼ä¸šæ–‡åŒ–æ˜¯é˜Ÿä¼æˆ˜æ–—åŠ›çš„æºæ³‰å’Œå€å¢å™¨',
    howToDo: 'é€šè¿‡å†…æ ¸æŒ‡å¯¼ã€ä¸­æ ¸æ–¹æ³•ã€å¤–æ ¸å·¥å…·çš„ä¸‰å±‚ä½“ç³»æ¥å»ºè®¾ä¼ä¸šæ–‡åŒ–',
    category: 'ä¼ä¸šæ–‡åŒ–ä½“ç³»',
    keywords: ['ä¼ä¸šæ–‡åŒ–', 'å†…æ ¸', 'ä¸­æ ¸', 'å¤–æ ¸', 'æˆ˜æ–—åŠ›', 'æ–‡åŒ–ä½“ç³»']
  }
];

async function insertLakalaCompanyCulture() {
  console.log('ğŸš€ å¼€å§‹æ’å…¥æ‹‰å¡æ‹‰ä¼ä¸šæ–‡åŒ–æ•°æ®...\n');

  try {
    // ä½¿ç”¨çŸ¥è¯†åº“APIæ‰¹é‡æ·»åŠ æ‹‰å¡æ‹‰ä¼ä¸šæ–‡åŒ–
    const response = await axios.post(`${API_BASE_URL}/api/knowledge/company-values`, {
      companyName: 'æ‹‰å¡æ‹‰',
      values: lakalaCompanyCulture
    }, {
      headers: {
        'Content-Type': 'application/json',
        'X-Frontend-Key': FRONTEND_API_KEY
      }
    });

    console.log('âœ… æ‹‰å¡æ‹‰ä¼ä¸šæ–‡åŒ–æ•°æ®æ’å…¥æˆåŠŸ!');
    console.log('ğŸ“Š æ’å…¥ç»“æœ:', response.data);

    // éªŒè¯æ’å…¥ç»“æœ
    console.log('\nğŸ” éªŒè¯æ’å…¥ç»“æœ...');
    const statsResponse = await axios.get(`${API_BASE_URL}/api/knowledge/stats`, {
      headers: {
        'X-Frontend-Key': FRONTEND_API_KEY
      }
    });
    
    console.log('ğŸ“ˆ å½“å‰çŸ¥è¯†åº“ç»Ÿè®¡:', statsResponse.data);

    // æœç´¢æ‹‰å¡æ‹‰ç›¸å…³å†…å®¹
    console.log('\nğŸ” æœç´¢æ‹‰å¡æ‹‰ä¼ä¸šæ–‡åŒ–...');
    const searchResponse = await axios.get(`${API_BASE_URL}/api/knowledge/search`, {
      params: { q: 'æ‹‰å¡æ‹‰', limit: 5 },
      headers: {
        'X-Frontend-Key': FRONTEND_API_KEY
      }
    });
    
    console.log('ğŸ¯ æœç´¢ç»“æœ:');
    searchResponse.data.data.forEach((item, index) => {
      console.log(`${index + 1}. ${item.title}`);
    });

  } catch (error) {
    console.error('âŒ æ’å…¥å¤±è´¥:', error.response?.data || error.message);
    
    if (error.response?.status === 401) {
      console.log('ğŸ’¡ APIå¯†é’¥éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥å‰ç«¯APIå¯†é’¥é…ç½®');
    }
  }
}

// æ‰§è¡Œæ’å…¥
insertLakalaCompanyCulture(); 